{"version":3,"sources":["components/game/map/MapGame.module.css","components/game/map/InputChoice.module.css","components/common/Button.module.css","components/HomeLink.module.css","components/game/map/ResetButton.module.css","components/Header.module.css","components/Home.module.css","components/game/map/MapTitle.module.css","components/game/map/MapChoice.module.css","components/game/map/MapSourceLink.module.css","res/home/africa.svg","res/home/parisArr.svg","res/home/usState.svg","res/home/frDpt.svg","res/home/frReg.svg","components/game/map/ListChoice.module.css","res/trash.svg","components/game/map/SuccessMessage.module.css","components/game/map/MapFooter.module.css","data/map lazy /^/.//.*/.js$/ groupOptions: {} namespace object","components/Header.js","constants/gameType.js","data/appData.js","components/HomeLink.js","components/Home.js","components/NotFound.js","components/game/map/InputChoice.js","components/game/map/ListChoice.js","components/game/map/ResetButton.js","components/game/map/MapTitle.js","components/game/map/mapActions.js","components/game/map/mapReducer.js","components/game/map/mapHooks.js","components/game/map/mapUtils.js","components/Loading.js","components/Error.js","hoc/lazy.js","components/game/map/MapChoice.js","components/common/Button.js","components/game/map/SuccessMessage.js","components/game/map/MapFooter.js","components/game/map/MapSourceLink.js","components/game/map/MapGame.js","App.js","serviceWorker.js","utils/localStorage.js","legacy/index.js","index.js"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","Header","className","styles","header","to","link","MAP","createMapData","routePath","title","source","type","lazyDataModule","image","images","appData","HomeLink","text","imageStyle","homeLink","homeLinkImageContainer","style","homeLinkText","Home","container","key","item","NotFound","React","memo","inputId","label","checked","highlighted","disabled","onChange","labelRef","useRef","labelClassName","classNames","highlight","memoizedOnChange","useCallback","useEffect","current","scrollIntoView","name","input","value","ref","htmlFor","data","compare","choiceIdSelected","idHighlighted","idsValidated","getChoiceLabel","useState","dataSorted","setDataSorted","sort","index","includes","ResetButton","animate","props","btnClassName","resetButton","src","trash","alt","MapTitle","showResetButton","onClickResetButton","animateResetButton","mapTitle","hidden","onClick","UPDATE_ID_HIGHTLIGHTED","UPDATE_MAP_ID_SELECTED","UPDATE_CHOICE_ID_SELECTED","UPDATE_IDS_VALIDATED","UPDATE_HAS_ERROR","RESET_IDS_SELECTED","RESET","updateIdHighlighted","payload","updateIdsValidated","updateHasError","hasError","init","mapIdSelected","itemValue","localStorage","getItem","JSON","parse","Array","isArray","getIdsValidatedFromLocalStorage","reducer","state","action","highlightTimeout","errorTimeout","useResetStateEffect","dispatch","isInitialMount","useIdsValidatedEffect","element","document","querySelector","focus","blur","resetFocus","length","forEach","classList","add","from","querySelectorAll","el","remove","useMapGame","useReducer","areas","dataId","dataset","addEventListener","contains","click","useInitMapHandlersEffect","selected","useMapIdSelectedEffect","idHightlighted","timeoutId","setTimeout","clearTimeout","useIdHightlightedEffect","handleValidateClick","timeoutIdErrorRef","preventDefault","isValid","newIdsValidated","setItem","stringify","useValidateClickCallback","handleResetClick","window","confirm","removeItem","useResetClickCallback","setMapIdSelected","updateMapIdSelected","setChoiceIdSelected","updateChoiceIdSelected","Loading","defaultMapDataModuleToProps","dataModule","lazy","mapDataModuleToProps","Component","otherProps","undefined","setDataModule","catch","MapChoice","handleChange","target","indexOf","button","SuccessMessage","successMessage","MapFooter","success","error","btnDisabled","mapFooter","btnStyles","children","MapSourceLink","url","external","href","rel","defaultOptions","MapComponent","options","compareList","assign","finished","canValidate","onSubmit","main","section","aside","basename","App","path","exact","component","LazyComponent","LazyMapGame","getLazyComponent","render","routeProps","Boolean","location","hostname","match","reduce","acc","methodName","args","apply","safeLocalStorageMethod","Map","newId","oldId","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8cc6d959.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MapGame_container__1uBE5\",\"main\":\"MapGame_main__245H2\",\"section\":\"MapGame_section__2k_Qm\",\"selected\":\"MapGame_selected__S1TO3\",\"disabled\":\"MapGame_disabled__1bGjL\",\"highlight\":\"MapGame_highlight__yybZ_\",\"aside\":\"MapGame_aside__1p7Zj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"InputChoice_container__158wK\",\"input\":\"InputChoice_input__2HCd6\",\"label\":\"InputChoice_label__1XG8a\",\"highlight\":\"InputChoice_highlight__1N730\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1s0hg\",\"error\":\"Button_error__3qGxJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homeLink\":\"HomeLink_homeLink__27QpP\",\"homeLinkImageContainer\":\"HomeLink_homeLinkImageContainer__2S5cG\",\"homeLinkText\":\"HomeLink_homeLinkText__FY4Fl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"resetButton\":\"ResetButton_resetButton__IvkAJ\",\"animate\":\"ResetButton_animate__peY50\",\"blink\":\"ResetButton_blink__3QHbz\",\"image\":\"ResetButton_image__knYxc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mObx\",\"link\":\"Header_link__cU-VI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3-qjB\",\"item\":\"Home_item__1tLv4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapTitle\":\"MapTitle_mapTitle__3GKPr\",\"hidden\":\"MapTitle_hidden__1N4JV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"MapChoice_label__2Z4m5\",\"input\":\"MapChoice_input__iUhTt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"MapSourceLink_link__1gl_v\",\"external\":\"MapSourceLink_external__3knjC\"};","module.exports = __webpack_public_path__ + \"static/media/africa.4cb88805.svg\";","module.exports = __webpack_public_path__ + \"static/media/parisArr.9e857258.svg\";","module.exports = __webpack_public_path__ + \"static/media/usState.4fac928a.svg\";","module.exports = __webpack_public_path__ + \"static/media/frDpt.4bc78dea.svg\";","module.exports = __webpack_public_path__ + \"static/media/frReg.3cce3ccd.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ListChoice_container__pwaWB\"};","module.exports = __webpack_public_path__ + \"static/media/trash.762fa71b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"successMessage\":\"SuccessMessage_successMessage__30uVD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapFooter\":\"MapFooter_mapFooter__2mJSa\"};","var map = {\n\t\"./africa.js\": [\n\t\t54,\n\t\t3\n\t],\n\t\"./frDpt.js\": [\n\t\t58,\n\t\t4\n\t],\n\t\"./frReg.js\": [\n\t\t57,\n\t\t5\n\t],\n\t\"./parisArr.js\": [\n\t\t56,\n\t\t6\n\t],\n\t\"./usState.js\": [\n\t\t55,\n\t\t7\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 52;\nmodule.exports = webpackAsyncContext;","import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport styles from './Header.module.css';\n\nfunction Header() {\n    return (\n        <header className={styles.header}>\n          <Link to=\"/\" className={styles.link}>La carte sans territoire</Link>  \n        </header>\n    );\n}\n\nexport default Header;","export const MAP = \"MAP\";\n","import {MAP} from \"../constants/gameType\";\nimport * as images from \"../res/home\";\n\nfunction createMapData(id, routePath, title, source) {\n    return {\n        id,\n        routePath,\n        title,\n\t\tsource,\n        type: MAP,\n        lazyDataModule: () => import(`./map/${id}.js`),\n        image: images[id]\n    };\n}\n\nconst frDpt = createMapData(\n    \"frDpt\",\n    \"/france-departement\",\n    \"Départements en France métropolitaine\",\n\t\"https://fr.wikipedia.org/wiki/Fichier:D%C3%A9partements_de_France-simple.svg\"\n);\n\nconst frReg = createMapData(\n    \"frReg\",\n    \"/france-region\",\n    \"Régions en France métropolitaine\",\n\t\"https://commons.wikimedia.org/wiki/File:Fond_de_carte_des_13_nouvelles_r%C3%A9gions_de_France_m%C3%A9tropolitaine.svg\"\n);\n\nconst usState= createMapData(\n    \"usState\",\n    \"/usa-etats\",\n    \"États des États-Unis\",\n\t\"https://commons.wikimedia.org/wiki/File:Blank_US_Map_(states_only).svg\"\n);\n\nconst parisArr = createMapData(\n    \"parisArr\",\n    \"/paris-arrondissement\",\n    \"Arrondissements Parisiens\",\n\t\"https://fr.wikipedia.org/wiki/Fichier:Paris_blank_map.svg\"\n);\n\nconst africa = createMapData(\n    \"africa\",\n    \"/afrique-continent\",\n    \"Continent Africain\",\n\t\"https://commons.wikimedia.org/wiki/File:Blank_Map-Africa.svg\"\n);\n\nconst appData = [frDpt, frReg, usState, parisArr, africa];\n\nexport default appData;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './HomeLink.module.css';\n\nfunction HomeLink({to, text, image}) {\n    const imageStyle = image && {\"backgroundImage\": `url(${image})`};\n    \n    return (\n        <Link to={to} className={styles.homeLink}>\n            <div className={styles.homeLinkImageContainer} style={imageStyle}/>\n            <p className={styles.homeLinkText}>{text}</p>\n        </Link>    \n    );\n}\n\nexport default HomeLink;\n","import React from 'react';\nimport appData from '../data/appData';\nimport styles from './Home.module.css';\nimport HomeLink from './HomeLink';\n\nfunction Home() {\n    return (\n        <ul className={styles.container}>\n        {\n            appData.map(({id, routePath, title, image}) => (\n                <li key={id} className={styles.item}>\n                    <HomeLink to={routePath} text={title} image={image}/>\n                </li>\n            ))\n        }\n        </ul>\n    );\n}\n\nexport default Home;\n","import React from 'react';\n\nfunction NotFound() {\n    return (\n        <div className=\"container-full-center text-large\">\n            La page demandée n'existe pas\n        </div>\n    );\n}\n\nexport default NotFound;","import React, {useEffect, useRef, useCallback} from 'react';\nimport classNames from 'classnames';\nimport styles from './InputChoice.module.css';\n\nfunction InputChoice({\n    inputId,\n    id, \n    label, \n    checked, \n    highlighted, \n    disabled, \n    onChange\n}) {\n    const labelRef = useRef(null);\n    const labelClassName = classNames(styles.label, {[styles.highlight]: highlighted});\n    const memoizedOnChange = useCallback(() => onChange(id), [onChange, id]);\n\n    useEffect(() => {\n        if (highlighted && labelRef.current) {\n            labelRef.current.scrollIntoView();\n        }\n    }, [highlighted]);\n\n    return (\n        <div className={styles.container}>\n            <input \n                id={inputId}\n                type=\"radio\" \n                name=\"choice\"\n                className={styles.input} \n                value={label} \n                checked={checked} \n                onChange={memoizedOnChange}\n                disabled={disabled}\n            />\n            <label ref={labelRef} htmlFor={inputId} className={labelClassName}>\n                {label}\n            </label>\n        </div>\n    );\n}\n\nexport default React.memo(InputChoice);\n","import React, {useState, useEffect} from 'react';\nimport InputChoice from './InputChoice';\nimport styles from './ListChoice.module.css';\n\nfunction ListChoice({\n    data,\n\tcompare,\n    onChange, \n    choiceIdSelected, \n    idHighlighted,\n    idsValidated, \n\tgetChoiceLabel,\n}) {\n\tconst [dataSorted, setDataSorted] = useState([]);\n\n\tuseEffect(() => {\n\t\tif (compare) {\n\t\t\tsetDataSorted([...data].sort(compare));\n\t\t} else {\n\t\t\tsetDataSorted(data);\n\t\t}\n\t}, [data, compare]);\n\n    return (\n        <div className={styles.container}>\n            {dataSorted.map((item, index) => {\n                const {id} = item;\n\n                return (\n                    <InputChoice \n                        key={index}\n                        inputId={`choice${index}`}\n                        id={id}\n                        label={getChoiceLabel(item)}\n                        checked={choiceIdSelected === id}\n                        highlighted={idHighlighted === id}\n                        disabled={idsValidated.includes(id)}\n                        onChange={onChange}\n                    />\n                );\n            })}\n        </div>\n    );\n}\n\nexport default React.memo(ListChoice);\n","import React from 'react';\nimport classNames from 'classnames';\nimport styles from './ResetButton.module.css';\n\nimport trash from \"../../../res/trash.svg\";\n\nfunction ResetButton({className, animate = false, ...props}) {\n    const btnClassName = classNames(\n        className,\n        styles.resetButton,\n        {\n            [styles.animate]: animate\n        }\n    );\n    \n    return (\n        <button title=\"Recommencer\" {...props} className={btnClassName} type=\"button\">\n\t\t\t<img src={trash} alt=\"Effacer\" className={styles.image}/>\n        </button>\n    );\n}\n\nexport default ResetButton;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport ResetButton from \"./ResetButton\";\nimport styles from \"./MapTitle.module.css\";\n\nfunction MapTitle({title, showResetButton, onClickResetButton, animateResetButton}) {\n\treturn (\n\t\t<p className={styles.mapTitle}>\n\t\t\t{title}\n\t\t\t<ResetButton \n\t\t\t\tclassName={classNames({[styles.hidden]: !showResetButton})}\n\t\t\t\tanimate={animateResetButton} \n\t\t\t\tonClick={onClickResetButton}\n\t\t\t/>\n        </p>\n\t);\n}\n\nexport default MapTitle;\n","export const UPDATE_ID_HIGHTLIGHTED = \"update_id_highlighted\";\nexport const UPDATE_MAP_ID_SELECTED = \"update_map_id_selected\";\nexport const UPDATE_CHOICE_ID_SELECTED = \"update_choice_id_selected\";\nexport const UPDATE_IDS_VALIDATED = \"update_ids_validated\";\nexport const UPDATE_HAS_ERROR = \"update_has_error\";\nexport const RESET_IDS_SELECTED = \"reset_ids_selected\";\nexport const RESET = \"reset\";\n\nexport function updateIdHighlighted(idHighlighted) {\n\treturn {\n\t\ttype: UPDATE_ID_HIGHTLIGHTED,\n\t\tpayload: idHighlighted\n\t};\n}\n\nexport function updateMapIdSelected(mapIdSelected) {\n\treturn {\n\t\ttype: UPDATE_MAP_ID_SELECTED,\n\t\tpayload: mapIdSelected\n\t};\n}\n\nexport function updateChoiceIdSelected(choiceIdSelected) {\n\treturn {\n\t\ttype: UPDATE_CHOICE_ID_SELECTED,\n\t\tpayload: choiceIdSelected\n\t};\n}\n\nexport function updateIdsValidated(idsValidated) {\n\treturn {\n\t\ttype: UPDATE_IDS_VALIDATED,\n\t\tpayload: idsValidated\n\t};\n}\n\nexport function updateHasError(hasError) {\n\treturn {\n\t\ttype: UPDATE_HAS_ERROR,\n\t\tpayload: hasError\n\t};\n}\n\nexport function resetIdsSelected() {\n\treturn {\n\t\ttype: RESET_IDS_SELECTED,\n\t};\n}\n\nexport function reset() {\n\treturn {\n\t\ttype: RESET,\n\t};\n}\n","import {\n\tUPDATE_ID_HIGHTLIGHTED,\n\tUPDATE_MAP_ID_SELECTED,\n\tUPDATE_CHOICE_ID_SELECTED,\n\tUPDATE_IDS_VALIDATED,\n\tUPDATE_HAS_ERROR,\n\tRESET_IDS_SELECTED,\n\tRESET,\n} from \"./mapActions\";\n\nfunction getIdsValidatedFromLocalStorage(id) {\n\ttry {\n\t\tconst itemValue = localStorage.getItem(id);\n\t\tconst idsValidated = itemValue && JSON.parse(itemValue);\n\t\tif (Array.isArray(idsValidated)) {\n\t\t  return idsValidated;\n\t\t}\n\t} catch {}\n  \n\treturn [];\n}\n\nexport function init(id) {\n\tconst idsValidated = getIdsValidatedFromLocalStorage(id);\n\n\treturn {\n\t\tchoiceIdSelected: \"\",\n\t\tmapIdSelected: \"\",\n\t\tidsValidated,\n\t\tidHighlighted: \"\",\n\t\thasError: false\n\t};\n}\n\nexport function reducer(state, action) {\n\tswitch(action.type) {\n\t\tcase UPDATE_ID_HIGHTLIGHTED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidHighlighted: action.payload\n\t\t\t};\n\t\tcase UPDATE_MAP_ID_SELECTED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmapIdSelected: action.payload\n\t\t\t};\n\t\tcase UPDATE_CHOICE_ID_SELECTED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tchoiceIdSelected: action.payload\n\t\t\t};\n\t\tcase UPDATE_IDS_VALIDATED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidsValidated: action.payload\n\t\t\t};\n\t\tcase UPDATE_HAS_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\thasError: action.payload\n\t\t\t};\n\t\tcase RESET_IDS_SELECTED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmapIdSelected: \"\",\n\t\t\t\tchoiceIdSelected: \"\"\n\t\t\t};\n\t\tcase RESET:\n\t\t\treturn init(action.payload);\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import {useEffect, useCallback, useRef, useReducer} from 'react';\nimport {reducer, init} from \"./mapReducer\";\nimport {resetFocus} from \"./mapUtils\";\nimport styles from './MapGame.module.css';\nimport {\n\tupdateIdHighlighted,\n\tupdateMapIdSelected,\n\tupdateChoiceIdSelected,\n\tupdateIdsValidated,\n\tupdateHasError,\n\tresetIdsSelected,\n\treset,\n} from \"./mapActions\";\n\nconst highlightTimeout = 1500;\nconst errorTimeout = 1500;\n\nexport function useResetStateEffect(id, dispatch) {\n\tconst isInitialMount = useRef(true);\n\n\tuseEffect(() => {\n\t\tif (isInitialMount.current) {\n\t\t\tisInitialMount.current = false;\n\t\t\treturn;\n\t\t}\n\n\t\tdispatch(reset());\n\t}, [id, dispatch]);\n}\n\nexport function useInitMapHandlersEffect(id, dispatch) {\n    useEffect(() => {\n    \tconst areas = document.querySelectorAll(\"[data-id]\");\n    \tArray.from(areas).forEach(el => {\n    \t\tconst dataId = el.dataset.id;\n        \n    \t\tel.addEventListener('click', () => {\n    \t\t\tif (el.classList.contains(styles.disabled)) {\n\t\t\t\t\tdispatch(updateIdHighlighted(dataId));\n            \t\treturn;\n        \t\t}\n          \n          \t\tdocument.querySelector(`label#item-${dataId}`).click();\n\t\t\t});\n\t\t});\n\t}, [id, dispatch]);\n}\n\nexport function useMapIdSelectedEffect(mapIdSelected) {\n    useEffect(() => {\n    \tif (mapIdSelected) {\n    \t\tconst el = document.querySelector(`[data-id=\"${mapIdSelected}\"`);\n    \t\tel.classList.add(styles.selected);\n  \n    \t\treturn () => el && el.classList.remove(styles.selected);\n    \t}\n\t}, [mapIdSelected]);\n}\n\nexport function useIdHightlightedEffect(idHightlighted, dispatch) {\n\tuseEffect(() => {\n\t\tif (idHightlighted) {\n\t\t\tconst el = document.querySelector(`[data-id='${idHightlighted}'`);\n\t\t\tel.classList.add(styles.highlight);\n  \n\t\t\tconst timeoutId = setTimeout(\n\t\t\t\t() => dispatch(updateIdHighlighted(\"\")), \n\t\t\t\thighlightTimeout\n\t\t\t);\n  \n\t\t\treturn () => {\n\t\t  \t\tclearTimeout(timeoutId);\n\t\t\t\tel.classList.remove(styles.highlight);\n\t\t\t};\n\t\t}\n\n\t}, [idHightlighted, dispatch]);\n}\n\nexport function useIdsValidatedEffect(idsValidated, dispatch) {\n\tuseEffect(() => {\n\t\tdispatch(resetIdsSelected());\n\t\tresetFocus();\n  \n\t\tif (Array.isArray(idsValidated) && idsValidated.length) {\n\t\t\tidsValidated.forEach(\n\t\t\t\tid => document.querySelector(`[data-id=\"${id}\"]`).classList.add(styles.disabled)\n\t\t  \t);\n\t\t} else {\n\t\t\tArray.from(document.querySelectorAll('[data-id]')).forEach(\n\t\t\t\tel => el.classList.remove(styles.disabled)\n\t\t\t);\n\t\t}\n\t}, [idsValidated, dispatch]);\n}\n\nexport function useValidateClickCallback(id, state, dispatch) {\n\tconst {mapIdSelected, choiceIdSelected, idsValidated} = state;\n\tconst timeoutIdErrorRef = useRef(null);\n  \n\treturn useCallback(\n\t\tfunction handleValidateClick(e) {\n\t\t\te.preventDefault();\n  \n\t\t\tconst isValid = mapIdSelected && mapIdSelected === choiceIdSelected;\n\n\t\t\tclearTimeout(timeoutIdErrorRef.current);\n\t\t\tdispatch(updateHasError(!isValid));\n\t\t \n\t\t\tif (isValid) {\n\t\t\t\tconst newIdsValidated = [...idsValidated, choiceIdSelected];\n\t\t\t\n\t\t\t\tdispatch(updateIdsValidated(newIdsValidated));\n\t\t\t\tlocalStorage.setItem(id, JSON.stringify(newIdsValidated));\n\t\t  \t} else {\n\t\t\t\ttimeoutIdErrorRef.current = setTimeout(\n\t\t\t\t\t() => dispatch(updateHasError(false)), \n\t\t\t\t\terrorTimeout\n\t\t\t\t);\n\t\t\t}\n\t\t}, [id, mapIdSelected, choiceIdSelected, idsValidated, dispatch]\n\t);\n}\n  \nexport function useResetClickCallback(id, dispatch) {\n\treturn useCallback(\n\t\tfunction handleResetClick() {\n\t\t\tif (window.confirm(\"Souhaitez-vous vraiment recommencer cette carte ?\")) {\n\t\t\t\tdispatch(updateIdsValidated([]));\n\t\t\t\tlocalStorage.removeItem(id);\n\t\t\t}\n\t\t}, [id, dispatch]\n\t);\n}\n\nexport function useMapGame(id) {\n\tconst [state, dispatch] = useReducer(reducer, id, init);\n\tconst {\n\t\tchoiceIdSelected,\n\t\tmapIdSelected,\n\t\tidsValidated,\n\t\tidHighlighted,\n\t\thasError,\n\t} = state;\n\n\tuseInitMapHandlersEffect(id, dispatch);\n\tuseMapIdSelectedEffect(mapIdSelected);\n\tuseIdHightlightedEffect(idHighlighted, dispatch);\n\tuseIdsValidatedEffect(idsValidated, dispatch);\n\tuseResetStateEffect(id, dispatch);\n\t\n\tconst handleValidateClick = useValidateClickCallback(id, state, dispatch);\n\tconst handleResetClick = useResetClickCallback(id, dispatch);\n\n\tconst setMapIdSelected = useCallback(\n\t\tmapIdSelected => dispatch(updateMapIdSelected(mapIdSelected)),\n\t\t[]\n\t);\n\n\tconst setChoiceIdSelected = useCallback(\n\t\tchoiceIdSelected => dispatch(updateChoiceIdSelected(choiceIdSelected)),\n\t\t[]\n\t);\n  \n\treturn {\n\t  choiceIdSelected,\n\t  mapIdSelected,\n\t  idHighlighted,\n\t  idsValidated,\n\t  hasError,\n\t  setMapIdSelected,\n\t  setChoiceIdSelected,\n\t  handleValidateClick,\n\t  handleResetClick\n\t};\n}\n","export function resetFocus() {\n\tconst element = document.querySelector(\"input:not([disabled])[type='radio']\");\n\tif (element) {\n\t\telement.focus();\n\t\telement.blur();\n\t}\n}","import React from 'react';\n\nfunction Loading() {\n    return (\n        <div className=\"container-full-center text-large\">\n            Loading...\n        </div>\n    );\n}\n\nexport default Loading;\n","import React from 'react';\n\nfunction Error() {\n    return (\n        <div className=\"container-full-center text-large\">\n            Une erreur est survenue\n        </div>\n    );\n}\n\nexport default Error;","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../components/Loading';\nimport Error from '../components/Error';\n\nconst defaultMapDataModuleToProps = dataModule => ({...dataModule});\n\nconst lazy = (mapDataModuleToProps = defaultMapDataModuleToProps) => Component => {\n    function LazyComponent({lazyDataModule, ...otherProps}) {\n        const [dataModule, setDataModule] = useState(undefined);\n\n        useEffect(() => {\n            setDataModule(undefined);\n\n            lazyDataModule()\n                .then(dataModule => setDataModule(dataModule))\n                .catch(() => setDataModule(false));\n\n        }, [lazyDataModule]);\n\n        if (dataModule === undefined) {\n            return <Loading/>;\n        }\n\n        if (dataModule === false) {\n            return <Error/>;\n        }\n\n        return (\n            <Component \n                {...mapDataModuleToProps(dataModule)}\n                {...otherProps}\n            />\n        );\n    }\n\n    LazyComponent.propTypes = {\n        lazyDataModule: PropTypes.func.isRequired\n    };\n\n    return LazyComponent;\n}\n\nexport default lazy;\n","import React from \"react\";\nimport styles from \"./MapChoice.module.css\";\n\nfunction MapChoice({data, onChange, mapIdSelected, idsValidated}) {\n\tfunction handleChange(e) {\n\t\tonChange(e.target.value);\n\t}\n\n\treturn data.map(item => {\n\t\tconst id = `item-${item.id}`;\n\n\t\treturn (\n\t\t\t<label id={id} key={item.id} className={styles.label}>\n\t\t\t<input \n\t\t\t\thtmlFor={id}\n\t\t\t\tclassName={styles.input}\n\t\t\t\ttype=\"radio\" \n\t\t\t\tname=\"mapChoice\"\n\t\t\t\tvalue={item.id}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tchecked={item.id === mapIdSelected}\n\t\t\t\tdisabled={idsValidated.indexOf(item.id) !== -1}\n\t\t\t/>\n\t\t\t</label>  \n\t\t);\n\t});\n}\n\nexport default MapChoice;\n","import React from 'react';\nimport classNames from 'classnames';\nimport styles from './Button.module.css';\n\nfunction Button({className, type = \"button\", ...props}) {\n    const btnClassName = classNames(className, styles.button);\n    return <button {...props} className={btnClassName} type={type}/>\n}\n\nexport default React.memo(Button);\n","import React from 'react';\nimport styles from './SuccessMessage.module.css';\n\nfunction SuccessMessage() {\n    return <span className={styles.successMessage}>Bravo !</span>;\n}\n\nexport default SuccessMessage;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport Button from \"../../common/Button\";\nimport SuccessMessage from \"./SuccessMessage\";\n\nimport btnStyles from '../../common/Button.module.css';\nimport styles from \"./MapFooter.module.css\";\n\nfunction MapFooter({success, error, btnDisabled}) {\n\treturn (\n\t\t<footer className={styles.mapFooter}>\n\t\t\t{success && <SuccessMessage/>}\n\t\t\t{!success && (\n\t\t\t\t<Button \n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tdisabled={btnDisabled}\n\t\t\t\t\tclassName={classNames({[btnStyles.error]: error})}\n\t\t\t\t\tchildren=\"Valider\"\n\t\t\t\t/>\n\t\t\t)}\n        </footer>\n\t)\n}\n\nexport default MapFooter;","import React from \"react\";\nimport classNames from \"classnames\";\nimport styles from \"./MapSourceLink.module.css\";\n\nfunction MapSourceLink({url}) {\n\tconst className = classNames(styles.link, styles.external);\n\treturn (\n\t\t<a href={url} target=\"_blank\" rel=\"noopener noreferrer\" className={className}>\n\t\t\tsource\n\t\t</a>\n\t);\n}\n\nexport default MapSourceLink;\n","import React from 'react';\nimport ListChoice from './ListChoice';\nimport MapTitle from './MapTitle';\nimport {useMapGame} from './mapHooks';\nimport lazy from '../../../hoc/lazy';\nimport styles from './MapGame.module.css';\nimport MapChoice from './MapChoice';\nimport MapFooter from './MapFooter';\nimport MapSourceLink from './MapSourceLink';\n\nconst defaultOptions = {\n  getChoiceLabel: item => `${item.id} - ${item.label}`\n};\n\nfunction MapGame({id, title, source, data, MapComponent, options, compareList}) {\n  const {getChoiceLabel} = Object.assign({}, defaultOptions, options);\n\n  const {\n    choiceIdSelected,\n    mapIdSelected,\n    idsValidated,\n    idHighlighted,\n    hasError,\n    setMapIdSelected,\n    setChoiceIdSelected,\n    handleValidateClick,\n    handleResetClick\n  } = useMapGame(id);\n\n  const finished = idsValidated.length === data.length;\n  const canValidate = mapIdSelected && choiceIdSelected;\n\n  // TODO : Gestion du focus (css)\n\n  return (\n    <form className={styles.container} onSubmit={handleValidateClick}>\n        <main className={styles.main}>\n          <section className={styles.section}>\n\t\t\t<MapTitle \n\t\t\t\ttitle={title}\n\t\t\t\tshowResetButton={idsValidated.length > 0}\n\t\t\t\tanimateResetButton={finished}\n\t\t\t\tonClickResetButton={handleResetClick}\n\t\t\t/>\n\t\t\t{source && <MapSourceLink url={source}/>}\n\t\t\t<MapChoice\n\t\t\t\tdata={data}\n\t\t\t\tonChange={setMapIdSelected}\n\t\t\t\tmapIdSelected={mapIdSelected}\n\t\t\t\tidsValidated={idsValidated}\n\t\t\t/>\n            <MapComponent/>\n          </section>\n          <aside className={styles.aside}>\n            <ListChoice \n              data={data} \n\t\t\t  compare={compareList}\n              onChange={setChoiceIdSelected}\n              choiceIdSelected={choiceIdSelected}\n              idHighlighted={idHighlighted}\n              idsValidated={idsValidated}\n\t\t\t  getChoiceLabel={getChoiceLabel}\n            />\n          </aside>\n        </main>\n\t\t<MapFooter\n\t\t\tsuccess={finished}\n\t\t\terror={hasError}\n\t\t\tbtnDisabled={!canValidate}\n\t\t/>\n    </form>\n  );\n}\n\nconst mapDataModuleToProps = dataModule => ({\n\tdata: dataModule.data, \n\tMapComponent: dataModule.MapComponent, \n\toptions: dataModule.options, \n\tcompareList: dataModule.compareList\n});\n\nexport default lazy(mapDataModuleToProps)(MapGame);\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport NotFound from './components/NotFound';\nimport LazyMapGame from './components/game/map/MapGame';\nimport {MAP} from './constants/gameType';\nimport appData from './data/appData';\n\nconst isProd = process.env.NODE_ENV === 'production';\nconst basename = isProd ? '/la-carte-sans-territoire' : undefined;\n\nfunction getLazyComponent(type) {\n  switch(type) {\n    case MAP:\n      return LazyMapGame;\n    default: \n      return LazyMapGame;\n  }\n}\n\nfunction App() {\n  return (\n    <Router basename={basename}>\n      <Header/>\n      <Switch>\n        <Route path=\"/\" exact component={Home}/>\n        {\n          appData.map(({id, routePath, type, title, source, lazyDataModule}) => {\n            const LazyComponent = getLazyComponent(type);\n\n            return (\n              <Route \n                key={id}\n                path={routePath} \n                render={routeProps => (\n                  <LazyComponent \n                    {...routeProps} \n                    id={id}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tsource={source}\n                    lazyDataModule={lazyDataModule}\n                  />\n                )} \n              />\n            );\n          })\n        }\n        <Route component={NotFound}/>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","function safeLocalStorageMethod(methodName) {\n    return function(...args) {\n        try {\n            return window.localStorage[methodName].apply(window.localStorage, args);\n        } catch {}\n    };\n}\n\nconst methodNames = [\"setItem\", \"getItem\", \"removeItem\"];\n\nconst localStorage = methodNames.reduce((acc, methodName) => {\n    acc[methodName] = safeLocalStorageMethod(methodName);\n    return acc;\n}, {});\n\nexport default localStorage;\n","import localStorage from '../utils/localStorage';\n\nconst mapOldIdNewId = new Map();\n\nexport function migrateOldDataIds() {\n    mapOldIdNewId.forEach((newId, oldId) => {\n        const data = localStorage.getItem(oldId);\n        if (data) {\n            localStorage.setItem(newId, data);\n        }\n    });\n}\n","import React from 'react';\nimport {render} from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {migrateOldDataIds} from './legacy';\n\nmigrateOldDataIds();\n\nrender(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}