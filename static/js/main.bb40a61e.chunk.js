(window["webpackJsonpla-carte-sans-territoire"]=window["webpackJsonpla-carte-sans-territoire"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={container:"MapGame_container__1uBE5",main:"MapGame_main__245H2",section:"MapGame_section__2k_Qm",mapTitle:"MapGame_mapTitle__25G14",aside:"MapGame_aside__1p7Zj",footer:"MapGame_footer__2MlV_"}},,,,function(e,t,a){e.exports={container:"InputChoice_container__158wK",input:"InputChoice_input__2HCd6",label:"InputChoice_label__1XG8a"}},,function(e,t,a){e.exports={header:"Header_header__3mObx",link:"Header_link__cU-VI"}},,,function(e,t,a){e.exports={container:"Home_container__3-qjB",item:"Home_item__1tLv4"}},,,,,,function(e,t,a){e.exports={container:"ListChoice_container__pwaWB"}},function(e,t,a){e.exports={successMessage:"SuccessMessage_successMessage__30uVD"}},,function(e,t,a){e.exports={button:"Button_button__1s0hg"}},function(e,t,a){e.exports={resetButton:"ResetButton_resetButton__IvkAJ"}},,,function(e,t,a){e.exports=a(41)},,,,,function(e,t,a){},,,,,,function(e,t,a){var n={"./frDpt.js":[44,3],"./parisArr.js":[43,4],"./usState.js":[42,5]};function r(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(function(){return a(r)})}r.keys=function(){return Object.keys(n)},r.id=40,e.exports=r},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=(a(34),a(8)),o=a(6),s=a(13),l=a.n(s);var u=function(){return r.a.createElement("header",{className:l.a.header},r.a.createElement(i.b,{to:"/",className:l.a.link},"La carte sans territoire"))},d="MAP";function m(e,t,n,r){return{id:e,routePath:t,title:n,description:r,type:d,lazyDataModule:function(){return a(40)("./".concat(e,".js"))}}}var f=[m("frDpt","/french-district","D\xe9partements fran\xe7ais","Carte des d\xe9partements fran\xe7ais"),m("usState","/us-state","\xc9tats des \xc9tats-Unis","Carte des \xe9tats des \xc9tats-Unis"),m("parisArr","/paris-district","Arrondissements de Paris","Carte des arrondissements de Paris")],p=a(16),h=a.n(p);var v=function(){return r.a.createElement("ul",{className:h.a.container},f.map(function(e){var t=e.id,a=e.routePath,n=e.description;return r.a.createElement("li",{key:t,className:h.a.item},r.a.createElement(i.b,{to:a},n))}))};var b=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"La page demand\xe9e n'existe pas")},_=a(11),E=a.n(_);var g=r.a.memo(function(e){var t=e.id,a=e.label,n=e.checked,c=e.onChange,i=e.disabled;return r.a.createElement("div",{className:E.a.container},r.a.createElement("input",{id:t,type:"radio",name:"choice",className:E.a.input,value:a,checked:n,onChange:c,disabled:i}),r.a.createElement("label",{htmlFor:t,className:E.a.label},a))}),j=a(22),y=a.n(j);var C=r.a.memo(function(e){var t=e.data,a=e.onChange,n=e.choiceIdSelected,c=e.idsValidated,i=e.getChoiceLabel;return r.a.createElement("div",{className:y.a.container},t.map(function(e,t){var o=e.id;return r.a.createElement(g,{key:t,id:"choice".concat(t),label:i(e),checked:n===o,disabled:c.includes(o),onChange:function(){return a(o)}})}))}),O=a(23),k=a.n(O);var N=function(){return r.a.createElement("span",{className:k.a.successMessage},"Bravo !")},w=a(24),S=a.n(w),M=a(25),I=a.n(M);var x=r.a.memo(function(e){var t=S()(e.className,I.a.button);return r.a.createElement("button",Object.assign({},e,{className:t,type:"button"}))}),L=a(26),A=a.n(L);var B=function(e){return r.a.createElement("button",Object.assign({},e,{title:"Recommencer",className:A.a.resetButton}),"\ud83d\uddd1")},D=a(9),V=a(28);var G=["setItem","getItem","removeItem"].reduce(function(e,t){return e[t]=function(e){return function(){try{for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return window.localStorage[e].apply(window.localStorage,a)}catch(r){}}}(t),e},{});function P(e){try{var t=G.getItem(e),a=t&&JSON.parse(t);if(Array.isArray(a))return a}catch(n){}return[]}function z(e){var t=Object(n.useState)(""),a=Object(D.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),o=Object(D.a)(i,2),s=o[0],l=o[1],u=Object(n.useState)(function(){return P(e)}),d=Object(D.a)(u,2),m=d[0],f=d[1];return function(e,t){Object(n.useEffect)(function(){var e=document.querySelectorAll("[data-id]");Array.from(e).forEach(function(e){var a=e.dataset.id;e.addEventListener("click",function(e){e.target.classList.contains("disabled")||t(a)})})},[e,t])}(e,l),function(e,t,a){Object(n.useEffect)(function(){t(""),a("")},[e,t,a])}(e,c,l),function(e,t){Object(n.useEffect)(function(){t(P(e))},[e,t])}(e,f),function(e){Object(n.useEffect)(function(){if(e){var t=document.querySelector('[data-id="'.concat(e,'"'));return t.classList.add("selected"),function(){return t&&t.classList.remove("selected")}}},[e])}(s),function(e,t,a){Object(n.useEffect)(function(){t(""),a(""),Array.isArray(e)&&e.length?e.forEach(function(e){return document.querySelector('[data-id="'.concat(e,'"]')).classList.add("disabled")}):Array.from(document.querySelectorAll("[data-id]")).forEach(function(e){return e.classList.remove("disabled")})},[e,t,a])}(m,c,l),{choiceIdSelected:r,mapIdSelected:s,idsValidated:m,setChoiceIdSelected:c,handleValidateClick:function(e,t,a,r,c){return Object(n.useCallback)(function(){if(t&&t===a){var n=[].concat(Object(V.a)(r),[a]);c(n),G.setItem(e,JSON.stringify(n))}},[e,t,a,r,c])}(e,s,r,m,f),handleResetClick:function(e,t){return Object(n.useCallback)(function(){window.confirm("Souhaitez-vous vraiment recommencer cette carte ?")&&(t([]),G.removeItem(e))},[e,t])}(e,f)}}var H=a(27);var U=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"Loading...")};var q=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"Une erreur est survenue")},J=function(e){return function(t){return function(a){var c=a.lazyDataModule,i=Object(H.a)(a,["lazyDataModule"]),o=Object(n.useState)(void 0),s=Object(D.a)(o,2),l=s[0],u=s[1];return Object(n.useEffect)(function(){u(void 0),c().then(function(e){return u(e)}).catch(function(e){return u(!1)})},[c]),void 0===l?r.a.createElement(U,null):!1===l?r.a.createElement(q,null):r.a.createElement(t,Object.assign({},e(l),i))}}},R=a(7),T=a.n(R),W={getChoiceLabel:function(e){return"".concat(e.id," - ").concat(e.label)}};var F=J(function(e){return{data:e.data,MapComponent:e.MapComponent,options:e.options}})(function(e){var t=e.id,a=e.title,n=e.data,c=e.MapComponent,i=e.options,o=Object.assign({},W,i).getChoiceLabel,s=z(t),l=s.choiceIdSelected,u=s.mapIdSelected,d=s.idsValidated,m=s.setChoiceIdSelected,f=s.handleValidateClick,p=s.handleResetClick,h=d.length===n.length,v=u&&l;return r.a.createElement("div",{className:T.a.container},r.a.createElement("main",{className:T.a.main},r.a.createElement("section",{className:T.a.section},r.a.createElement(c,null),r.a.createElement("p",{className:T.a.mapTitle},a)),r.a.createElement("aside",{className:T.a.aside},r.a.createElement(C,{data:n,onChange:m,choiceIdSelected:l,idsValidated:d,getChoiceLabel:o}))),r.a.createElement("footer",{className:T.a.footer},h?r.a.createElement(N,null):r.a.createElement(x,{onClick:f,disabled:!v,children:"Valider"}),d.length>0&&r.a.createElement(B,{onClick:p})))}),K="/la-carte-sans-territoire";var Q=function(){return r.a.createElement(i.a,{basename:K},r.a.createElement(u,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:v}),f.map(function(e){var t=e.id,a=e.routePath,n=e.type,c=e.title,i=e.lazyDataModule,s=function(e){switch(e){case d:default:return F}}(n);return r.a.createElement(o.a,{key:t,path:a,render:function(e){return r.a.createElement(s,Object.assign({},e,{id:t,title:c,lazyDataModule:i}))}})}),r.a.createElement(o.a,{component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(c.render)(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[29,1,2]]]);
//# sourceMappingURL=main.bb40a61e.chunk.js.map