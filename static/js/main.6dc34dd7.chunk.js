(window["webpackJsonpla-carte-sans-territoire"]=window["webpackJsonpla-carte-sans-territoire"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports={container:"MapGame_container__1uBE5",main:"MapGame_main__245H2",section:"MapGame_section__2k_Qm",mapTitle:"MapGame_mapTitle__25G14",aside:"MapGame_aside__1p7Zj",footer:"MapGame_footer__2MlV_"}},,,,function(e,t,a){e.exports={container:"InputChoice_container__158wK",input:"InputChoice_input__2HCd6",label:"InputChoice_label__1XG8a"}},,function(e,t,a){e.exports={header:"Header_header__3mObx",link:"Header_link__cU-VI"}},,,function(e,t,a){e.exports={container:"Home_container__3-qjB",item:"Home_item__1tLv4"}},,,,,,,function(e,t,a){e.exports={container:"ListChoice_container__pwaWB"}},function(e,t,a){e.exports={successMessage:"SuccessMessage_successMessage__30uVD"}},function(e,t,a){e.exports={button:"Button_button__1s0hg"}},function(e,t,a){e.exports={resetButton:"ResetButton_resetButton__IvkAJ"}},,,function(e,t,a){e.exports=a(42)},,,,,function(e,t,a){},,,,,,function(e,t,a){var n={"./frDpt.js":[45,3],"./parisArr.js":[44,4],"./usState.js":[43,5]};function r(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(function(){return a(r)})}r.keys=function(){return Object.keys(n)},r.id=41,e.exports=r},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=(a(35),a(9)),o=a(6),s=a(14),l=a.n(s);var u=function(){return r.a.createElement("header",{className:l.a.header},r.a.createElement(i.b,{to:"/",className:l.a.link},"La carte sans territoire"))},d="MAP";function m(e,t,n,r){return{id:e,routePath:t,title:n,description:r,type:d,lazyDataModule:function(){return a(41)("./".concat(e,".js"))}}}var f=[m("frDpt","/french-district","D\xe9partements fran\xe7ais","Carte des d\xe9partements fran\xe7ais"),m("usState","/us-state","\xc9tats des \xc9tats-Unis","Carte des \xe9tats des \xc9tats-Unis"),m("parisArr","/paris-district","Arrondissements de Paris","Carte des arrondissements de Paris")],h=a(17),p=a.n(h);var b=function(){return r.a.createElement("ul",{className:p.a.container},f.map(function(e){var t=e.id,a=e.routePath,n=e.description;return r.a.createElement("li",{key:t,className:p.a.item},r.a.createElement(i.b,{to:a},n))}))};var v=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"La page demand\xe9e n'existe pas")},g=a(23),E=a(11),_=a.n(E),j="highlight",O=a(12),y=a.n(O);var C=r.a.memo(function(e){var t=e.inputId,a=e.id,c=e.label,i=e.checked,o=e.highlighted,s=e.disabled,l=e.onChange,u=Object(n.useRef)(null),d=_()(y.a.label,Object(g.a)({},j,o)),m=Object(n.useCallback)(function(){return l(a)},[l,a]);return Object(n.useEffect)(function(){o&&u.current&&u.current.scrollIntoView()},[o]),r.a.createElement("div",{className:y.a.container},r.a.createElement("input",{id:t,type:"radio",name:"choice",className:y.a.input,value:c,checked:i,onChange:m,disabled:s}),r.a.createElement("label",{ref:u,htmlFor:t,className:d},c))}),k=a(24),w=a.n(k);var S=r.a.memo(function(e){var t=e.data,a=e.onChange,n=e.choiceIdSelected,c=e.idHighlighted,i=e.idsValidated,o=e.getChoiceLabel;return r.a.createElement("div",{className:w.a.container},t.map(function(e,t){var s=e.id;return r.a.createElement(C,{key:t,inputId:"choice".concat(t),id:s,label:o(e),checked:n===s,highlighted:c===s,disabled:i.includes(s),onChange:a})}))}),I=a(25),N=a.n(I);var M=function(){return r.a.createElement("span",{className:N.a.successMessage},"Bravo !")},L=a(26),x=a.n(L);var A=r.a.memo(function(e){var t=_()(e.className,x.a.button);return r.a.createElement("button",Object.assign({},e,{className:t,type:"button"}))}),B=a(27),D=a.n(B);var V=function(e){return r.a.createElement("button",Object.assign({},e,{title:"Recommencer",className:D.a.resetButton}),"\ud83d\uddd1")},H=a(7),G=a(29);var P=["setItem","getItem","removeItem"].reduce(function(e,t){return e[t]=function(e){return function(){try{for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return window.localStorage[e].apply(window.localStorage,a)}catch(r){}}}(t),e},{}),q=1500;function z(e){try{var t=P.getItem(e),a=t&&JSON.parse(t);if(Array.isArray(a))return a}catch(n){}return[]}function T(e){var t=Object(n.useState)(""),a=Object(H.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),o=Object(H.a)(i,2),s=o[0],l=o[1],u=Object(n.useState)(""),d=Object(H.a)(u,2),m=d[0],f=d[1],h=Object(n.useState)(function(){return z(e)}),p=Object(H.a)(h,2),b=p[0],v=p[1];return function(e,t,a){Object(n.useEffect)(function(){var e=document.querySelectorAll("[data-id]");Array.from(e).forEach(function(e){var n=e.dataset.id;e.addEventListener("click",function(e){e.target.classList.contains("disabled")?a(e.target.dataset.id):t(n)})})},[e,t,a])}(e,l,f),function(e,t,a){Object(n.useEffect)(function(){t(""),a("")},[e,t,a])}(e,c,l),function(e,t){Object(n.useEffect)(function(){t(z(e))},[e,t])}(e,v),function(e){Object(n.useEffect)(function(){if(e){var t=document.querySelector('[data-id="'.concat(e,'"'));return t.classList.add("selected"),function(){return t&&t.classList.remove("selected")}}},[e])}(s),function(e,t){Object(n.useEffect)(function(){if(e){var a=document.querySelector("[data-id='".concat(e,"'"));a.classList.add(j);var n=setTimeout(function(){return t("")},q);return function(){clearTimeout(n),a.classList.remove(j)}}},[e,t])}(m,f),function(e,t,a){Object(n.useEffect)(function(){t(""),a(""),Array.isArray(e)&&e.length?e.forEach(function(e){return document.querySelector('[data-id="'.concat(e,'"]')).classList.add("disabled")}):Array.from(document.querySelectorAll("[data-id]")).forEach(function(e){return e.classList.remove("disabled")})},[e,t,a])}(b,c,l),{choiceIdSelected:r,mapIdSelected:s,idHighlighted:m,idsValidated:b,setChoiceIdSelected:c,handleValidateClick:function(e,t,a,r,c){return Object(n.useCallback)(function(){if(t&&t===a){var n=[].concat(Object(G.a)(r),[a]);c(n),P.setItem(e,JSON.stringify(n))}},[e,t,a,r,c])}(e,s,r,b,v),handleResetClick:function(e,t){return Object(n.useCallback)(function(){window.confirm("Souhaitez-vous vraiment recommencer cette carte ?")&&(t([]),P.removeItem(e))},[e,t])}(e,v)}}var U=a(28);var J=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"Loading...")};var R=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"Une erreur est survenue")},W=function(e){return function(t){return function(a){var c=a.lazyDataModule,i=Object(U.a)(a,["lazyDataModule"]),o=Object(n.useState)(void 0),s=Object(H.a)(o,2),l=s[0],u=s[1];return Object(n.useEffect)(function(){u(void 0),c().then(function(e){return u(e)}).catch(function(e){return u(!1)})},[c]),void 0===l?r.a.createElement(J,null):!1===l?r.a.createElement(R,null):r.a.createElement(t,Object.assign({},e(l),i))}}},F=a(8),K=a.n(F),Q={getChoiceLabel:function(e){return"".concat(e.id," - ").concat(e.label)}};var X=W(function(e){return{data:e.data,MapComponent:e.MapComponent,options:e.options}})(function(e){var t=e.id,a=e.title,n=e.data,c=e.MapComponent,i=e.options,o=Object.assign({},Q,i).getChoiceLabel,s=T(t),l=s.choiceIdSelected,u=s.mapIdSelected,d=s.idsValidated,m=s.idHighlighted,f=s.setChoiceIdSelected,h=s.handleValidateClick,p=s.handleResetClick,b=d.length===n.length,v=u&&l;return r.a.createElement("div",{className:K.a.container},r.a.createElement("main",{className:K.a.main},r.a.createElement("section",{className:K.a.section},r.a.createElement(c,null),r.a.createElement("p",{className:K.a.mapTitle},a)),r.a.createElement("aside",{className:K.a.aside},r.a.createElement(S,{data:n,onChange:f,choiceIdSelected:l,idHighlighted:m,idsValidated:d,getChoiceLabel:o}))),r.a.createElement("footer",{className:K.a.footer},b?r.a.createElement(M,null):r.a.createElement(A,{onClick:h,disabled:!v,children:"Valider"}),d.length>0&&r.a.createElement(V,{onClick:p})))}),Z="/la-carte-sans-territoire";var $=function(){return r.a.createElement(i.a,{basename:Z},r.a.createElement(u,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:b}),f.map(function(e){var t=e.id,a=e.routePath,n=e.type,c=e.title,i=e.lazyDataModule,s=function(e){switch(e){case d:default:return X}}(n);return r.a.createElement(o.a,{key:t,path:a,render:function(e){return r.a.createElement(s,Object.assign({},e,{id:t,title:c,lazyDataModule:i}))}})}),r.a.createElement(o.a,{component:v})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));(new Map).forEach(function(e,t){var a=P.getItem(t);a&&P.setItem(e,a)}),Object(c.render)(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[30,1,2]]]);
//# sourceMappingURL=main.6dc34dd7.chunk.js.map