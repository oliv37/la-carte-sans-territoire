(window["webpackJsonpla-carte-sans-territoire"]=window["webpackJsonpla-carte-sans-territoire"]||[]).push([[0],[,,function(e,t,a){e.exports={container:"MapGame_container__1uBE5",main:"MapGame_main__245H2",section:"MapGame_section__2k_Qm",mapTitle:"MapGame_mapTitle__25G14",selected:"MapGame_selected__S1TO3",disabled:"MapGame_disabled__1bGjL",highlight:"MapGame_highlight__yybZ_",aside:"MapGame_aside__1p7Zj",footer:"MapGame_footer__2MlV_"}},,,,,,,,,,,,function(e,t,a){e.exports={container:"InputChoice_container__158wK",input:"InputChoice_input__2HCd6",label:"InputChoice_label__1XG8a",highlight:"InputChoice_highlight__1N730"}},function(e,t,a){e.exports={button:"Button_button__1s0hg",error:"Button_error__3qGxJ"}},,function(e,t,a){e.exports={header:"Header_header__3mObx",link:"Header_link__cU-VI"}},,,function(e,t,a){e.exports={container:"Home_container__3-qjB",item:"Home_item__1tLv4"}},function(e,t,a){e.exports={resetButton:"ResetButton_resetButton__IvkAJ",blink:"ResetButton_blink__3QHbz"}},,,,,,function(e,t,a){e.exports={container:"ListChoice_container__pwaWB"}},function(e,t,a){e.exports={successMessage:"SuccessMessage_successMessage__30uVD"}},,function(e,t,a){e.exports=a(42)},,,,,function(e,t,a){},,,,,,function(e,t,a){var n={"./africa.js":[47,3],"./frDpt.js":[46,4],"./frReg.js":[45,5],"./parisArr.js":[44,6],"./usState.js":[43,7]};function r(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(function(){return a(r)})}r.keys=function(){return Object.keys(n)},r.id=41,e.exports=r},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),i=(a(35),a(10)),o=a(8),s=a(17),l=a.n(s);var u=function(){return r.a.createElement("header",{className:l.a.header},r.a.createElement(i.b,{to:"/",className:l.a.link},"La carte sans territoire"))},d="MAP";function m(e,t,n,r){return{id:e,routePath:t,title:n,description:r,type:d,lazyDataModule:function(){return a(41)("./".concat(e,".js"))}}}var f=[m("frDpt","/french-district","D\xe9partements fran\xe7ais","Carte des d\xe9partements fran\xe7ais"),m("frReg","/french-area","R\xe9gions de France","Carte des r\xe9gions de France"),m("usState","/us-state","\xc9tats des \xc9tats-Unis","Carte des \xe9tats des \xc9tats-Unis"),m("parisArr","/paris-district","Arrondissements de Paris","Carte des arrondissements de Paris"),m("africa","/afrique","Afrique","Carte de l'Afrique")],h=a(20),b=a.n(h);var p=function(){return r.a.createElement("ul",{className:b.a.container},f.map(function(e){var t=e.id,a=e.routePath,n=e.description;return r.a.createElement("li",{key:t,className:b.a.item},r.a.createElement(i.b,{to:a},n))}))};var _=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"La page demand\xe9e n'existe pas")},g=a(11),v=a(6),E=a.n(v),j=a(14),O=a.n(j);var C=r.a.memo(function(e){var t=e.inputId,a=e.id,c=e.label,i=e.checked,o=e.highlighted,s=e.disabled,l=e.onChange,u=Object(n.useRef)(null),d=E()(O.a.label,Object(g.a)({},O.a.highlight,o)),m=Object(n.useCallback)(function(){return l(a)},[l,a]);return Object(n.useEffect)(function(){o&&u.current&&u.current.scrollIntoView()},[o]),r.a.createElement("div",{className:O.a.container},r.a.createElement("input",{id:t,type:"radio",name:"choice",className:O.a.input,value:c,checked:i,onChange:m,disabled:s}),r.a.createElement("label",{ref:u,htmlFor:t,className:d},c))}),y=a(27),k=a.n(y);var N=r.a.memo(function(e){var t=e.data,a=e.onChange,n=e.choiceIdSelected,c=e.idHighlighted,i=e.idsValidated,o=e.getChoiceLabel;return r.a.createElement("div",{className:k.a.container},t.map(function(e,t){var s=e.id;return r.a.createElement(C,{key:t,inputId:"choice".concat(t),id:s,label:o(e),checked:n===s,highlighted:c===s,disabled:i.includes(s),onChange:a})}))}),S=a(28),w=a.n(S);var I=function(){return r.a.createElement("span",{className:w.a.successMessage},"Bravo !")},M=a(12),L=a(15),x=a.n(L);var A=r.a.memo(function(e){var t=e.className,a=Object(M.a)(e,["className"]),n=E()(t,x.a.button);return r.a.createElement("button",Object.assign({},a,{className:n,type:"button"}))}),B=a(21),G=a.n(B);var D=function(e){var t=e.className,a=e.blink,n=void 0!==a&&a,c=Object(M.a)(e,["className","blink"]),i=E()(t,G.a.resetButton,Object(g.a)({},G.a.blink,n));return r.a.createElement("button",Object.assign({title:"Recommencer"},c,{className:i}),"\u27f3")},H=a(9),V=a(29);var q=["setItem","getItem","removeItem"].reduce(function(e,t){return e[t]=function(e){return function(){try{for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return window.localStorage[e].apply(window.localStorage,a)}catch(r){}}}(t),e},{}),R=a(2),T=a.n(R),z=1500,P=1500;function J(e){try{var t=q.getItem(e),a=t&&JSON.parse(t);if(Array.isArray(a))return a}catch(n){}return[]}function U(e){var t=Object(n.useState)(""),a=Object(H.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),o=Object(H.a)(i,2),s=o[0],l=o[1],u=Object(n.useState)(""),d=Object(H.a)(u,2),m=d[0],f=d[1],h=Object(n.useState)(function(){return J(e)}),b=Object(H.a)(h,2),p=b[0],_=b[1],g=Object(n.useState)(!1),v=Object(H.a)(g,2),E=v[0],j=v[1];return function(e,t,a){Object(n.useEffect)(function(){var e=document.querySelectorAll("[data-id]");Array.from(e).forEach(function(e){var n=e.dataset.id;e.addEventListener("click",function(){e.classList.contains(T.a.disabled)?a(n):t(n)})})},[e,t,a])}(e,l,f),function(e,t,a){Object(n.useEffect)(function(){t(""),a("")},[e,t,a])}(e,c,l),function(e,t){Object(n.useEffect)(function(){t(J(e))},[e,t])}(e,_),function(e){Object(n.useEffect)(function(){if(e){var t=document.querySelector('[data-id="'.concat(e,'"'));return t.classList.add(T.a.selected),function(){return t&&t.classList.remove(T.a.selected)}}},[e])}(s),function(e,t){Object(n.useEffect)(function(){if(e){var a=document.querySelector("[data-id='".concat(e,"'"));a.classList.add(T.a.highlight);var n=setTimeout(function(){return t("")},z);return function(){clearTimeout(n),a.classList.remove(T.a.highlight)}}},[e,t])}(m,f),function(e,t,a){Object(n.useEffect)(function(){t(""),a(""),Array.isArray(e)&&e.length?e.forEach(function(e){return document.querySelector('[data-id="'.concat(e,'"]')).classList.add(T.a.disabled)}):Array.from(document.querySelectorAll("[data-id]")).forEach(function(e){return e.classList.remove(T.a.disabled)})},[e,t,a])}(p,c,l),{choiceIdSelected:r,mapIdSelected:s,idHighlighted:m,idsValidated:p,hasError:E,setChoiceIdSelected:c,handleValidateClick:function(e,t,a,r,c,i){var o=Object(n.useRef)(null);return Object(n.useCallback)(function(){var n=t&&t===a;if(clearTimeout(o.current),i(!n),n){var s=[].concat(Object(V.a)(r),[a]);c(s),q.setItem(e,JSON.stringify(s))}else o.current=setTimeout(function(){return i(!1)},P)},[e,t,a,r,c,i])}(e,s,r,p,_,j),handleResetClick:function(e,t){return Object(n.useCallback)(function(){window.confirm("Souhaitez-vous vraiment recommencer cette carte ?")&&(t([]),q.removeItem(e))},[e,t])}(e,_)}}var F=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"Loading...")};var W=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"Une erreur est survenue")},Q={getChoiceLabel:function(e){return"".concat(e.id," - ").concat(e.label)}};var Z=function(e){return function(t){return function(a){var c=a.lazyDataModule,i=Object(M.a)(a,["lazyDataModule"]),o=Object(n.useState)(void 0),s=Object(H.a)(o,2),l=s[0],u=s[1];return Object(n.useEffect)(function(){u(void 0),c().then(function(e){return u(e)}).catch(function(e){return u(!1)})},[c]),void 0===l?r.a.createElement(F,null):!1===l?r.a.createElement(W,null):r.a.createElement(t,Object.assign({},e(l),i))}}}(function(e){return{data:e.data,MapComponent:e.MapComponent,options:e.options}})(function(e){var t=e.id,a=e.title,n=e.data,c=e.MapComponent,i=e.options,o=Object.assign({},Q,i).getChoiceLabel,s=U(t),l=s.choiceIdSelected,u=s.mapIdSelected,d=s.idsValidated,m=s.idHighlighted,f=s.hasError,h=s.setChoiceIdSelected,b=s.handleValidateClick,p=s.handleResetClick,_=d.length===n.length,v=u&&l;return r.a.createElement("div",{className:T.a.container},r.a.createElement("main",{className:T.a.main},r.a.createElement("section",{className:T.a.section},r.a.createElement(c,null),r.a.createElement("p",{className:T.a.mapTitle},a,d.length>0&&r.a.createElement(D,{blink:_,onClick:p}))),r.a.createElement("aside",{className:T.a.aside},r.a.createElement(N,{data:n,onChange:h,choiceIdSelected:l,idHighlighted:m,idsValidated:d,getChoiceLabel:o}))),r.a.createElement("footer",{className:T.a.footer},_?r.a.createElement(I,null):r.a.createElement(A,{onClick:b,disabled:!v,className:E()(Object(g.a)({},x.a.error,f)),children:"Valider"})))}),K="/la-carte-sans-territoire";var X=function(){return r.a.createElement(i.a,{basename:K},r.a.createElement(u,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:p}),f.map(function(e){var t=e.id,a=e.routePath,n=e.type,c=e.title,i=e.lazyDataModule,s=function(e){switch(e){case d:default:return Z}}(n);return r.a.createElement(o.a,{key:t,path:a,render:function(e){return r.a.createElement(s,Object.assign({},e,{id:t,title:c,lazyDataModule:i}))}})}),r.a.createElement(o.a,{component:_})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));(new Map).forEach(function(e,t){var a=q.getItem(t);a&&q.setItem(e,a)}),Object(c.render)(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[30,1,2]]]);
//# sourceMappingURL=main.ae37c8fe.chunk.js.map