(window["webpackJsonpla-carte-sans-territoire"]=window["webpackJsonpla-carte-sans-territoire"]||[]).push([[0],[,,,function(e,t,a){e.exports={container:"MapGame_container__1uBE5",main:"MapGame_main__245H2",section:"MapGame_section__2k_Qm",selected:"MapGame_selected__S1TO3",disabled:"MapGame_disabled__1bGjL",highlight:"MapGame_highlight__yybZ_",aside:"MapGame_aside__1p7Zj"}},,,,,,,,,,,function(e,t,a){e.exports={container:"InputChoice_container__158wK",input:"InputChoice_input__2HCd6",label:"InputChoice_label__1XG8a",highlight:"InputChoice_highlight__1N730"}},function(e,t,a){e.exports={button:"Button_button__1s0hg",error:"Button_error__3qGxJ"}},function(e,t,a){e.exports={homeLink:"HomeLink_homeLink__27QpP",homeLinkImageContainer:"HomeLink_homeLinkImageContainer__2S5cG",homeLinkText:"HomeLink_homeLinkText__FY4Fl"}},function(e,t,a){e.exports={resetButton:"ResetButton_resetButton__IvkAJ",animate:"ResetButton_animate__peY50",blink:"ResetButton_blink__3QHbz",image:"ResetButton_image__knYxc"}},,function(e,t,a){e.exports={header:"Header_header__3mObx",link:"Header_link__cU-VI"}},,,function(e,t,a){e.exports={container:"Home_container__3-qjB",item:"Home_item__1tLv4"}},function(e,t,a){e.exports={mapTitle:"MapTitle_mapTitle__3GKPr",hidden:"MapTitle_hidden__1N4JV"}},function(e,t,a){e.exports={label:"MapChoice_label__2Z4m5",input:"MapChoice_input__iUhTt"}},function(e,t,a){e.exports={link:"MapSourceLink_link__1gl_v",external:"MapSourceLink_external__3knjC"}},,,function(e,t,a){e.exports=a.p+"static/media/africa.4cb88805.svg"},function(e,t,a){e.exports=a.p+"static/media/parisArr.9e857258.svg"},function(e,t,a){e.exports=a.p+"static/media/usState.4fac928a.svg"},function(e,t,a){e.exports=a.p+"static/media/frDpt.4bc78dea.svg"},function(e,t,a){e.exports=a.p+"static/media/frReg.3cce3ccd.svg"},,,,function(e,t,a){e.exports={container:"ListChoice_container__pwaWB"}},function(e,t,a){e.exports=a.p+"static/media/trash.762fa71b.svg"},function(e,t,a){e.exports={successMessage:"SuccessMessage_successMessage__30uVD"}},function(e,t,a){e.exports={mapFooter:"MapFooter_mapFooter__2mJSa"}},,function(e,t,a){e.exports=a(53)},,,,,function(e,t,a){},,,,,,function(e,t,a){var n={"./africa.js":[58,3],"./frDpt.js":[57,4],"./frReg.js":[56,5],"./parisArr.js":[55,6],"./usState.js":[54,7]};function r(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(function(){return a(r)})}r.keys=function(){return Object.keys(n)},r.id=52,e.exports=r},function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"africa",function(){return p.a}),a.d(n,"parisArr",function(){return _.a}),a.d(n,"usState",function(){return b.a}),a.d(n,"frDpt",function(){return E.a}),a.d(n,"frReg",function(){return O.a});var r=a(0),i=a.n(r),c=a(33),o=(a(46),a(11)),s=a(9),l=a(19),u=a.n(l);var m=function(){return i.a.createElement("header",{className:u.a.header},i.a.createElement(o.b,{to:"/",className:u.a.link},"La carte sans territoire"))},d="MAP",f=a(28),p=a.n(f),h=a(29),_=a.n(h),g=a(30),b=a.n(g),v=a(31),E=a.n(v),k=a(32),O=a.n(k);function j(e,t,r,i){return{id:e,routePath:t,title:r,source:i,type:d,lazyDataModule:function(){return a(52)("./".concat(e,".js"))},image:n[e]}}var y=[j("frDpt","/france-departement","D\xe9partements en France m\xe9tropolitaine","https://fr.wikipedia.org/wiki/Fichier:D%C3%A9partements_de_France-simple.svg"),j("frReg","/france-region","R\xe9gions en France m\xe9tropolitaine","https://commons.wikimedia.org/wiki/File:Fond_de_carte_des_13_nouvelles_r%C3%A9gions_de_France_m%C3%A9tropolitaine.svg"),j("usState","/usa-etats","\xc9tats des \xc9tats-Unis","https://commons.wikimedia.org/wiki/File:Blank_US_Map_(states_only).svg"),j("parisArr","/paris-arrondissement","Arrondissements Parisiens","https://fr.wikipedia.org/wiki/Fichier:Paris_blank_map.svg"),j("africa","/afrique-continent","Continent Africain","https://commons.wikimedia.org/wiki/File:Blank_Map-Africa.svg")],C=a(22),w=a.n(C),S=a(16),N=a.n(S);var x=function(e){var t=e.to,a=e.text,n=e.image,r=n&&{backgroundImage:"url(".concat(n,")")};return i.a.createElement(o.b,{to:t,className:N.a.homeLink},i.a.createElement("div",{className:N.a.homeLinkImageContainer,style:r}),i.a.createElement("p",{className:N.a.homeLinkText},a))};var I=function(){return i.a.createElement("ul",{className:w.a.container},y.map(function(e){var t=e.id,a=e.routePath,n=e.title,r=e.image;return i.a.createElement("li",{key:t,className:w.a.item},i.a.createElement(x,{to:a,text:n,image:r}))}))};var L=function(){return i.a.createElement("div",{className:"container-full-center text-large"},"La page demand\xe9e n'existe pas")},M=a(7),B=a(4),A=a.n(B),D=a(14),R=a.n(D);var F=i.a.memo(function(e){var t=e.inputId,a=e.id,n=e.label,c=e.checked,o=e.highlighted,s=e.disabled,l=e.onChange,u=Object(r.useRef)(null),m=A()(R.a.label,Object(M.a)({},R.a.highlight,o)),d=Object(r.useCallback)(function(){return l(a)},[l,a]);return Object(r.useEffect)(function(){o&&u.current&&u.current.scrollIntoView()},[o]),i.a.createElement("div",{className:R.a.container},i.a.createElement("input",{id:t,type:"radio",name:"choice",className:R.a.input,value:n,checked:c,onChange:d,disabled:s}),i.a.createElement("label",{ref:u,htmlFor:t,className:m},n))}),P=a(36),T=a.n(P);var H=i.a.memo(function(e){var t=e.data,a=e.onChange,n=e.choiceIdSelected,r=e.idHighlighted,c=e.idsValidated,o=e.getChoiceLabel;return i.a.createElement("div",{className:T.a.container},t.map(function(e,t){var s=e.id;return i.a.createElement(F,{key:t,inputId:"choice".concat(t),id:s,label:o(e),checked:n===s,highlighted:r===s,disabled:c.includes(s),onChange:a})}))}),V=a(12),G=a(17),q=a.n(G),J=a(37),z=a.n(J);var U=function(e){var t=e.className,a=e.animate,n=void 0!==a&&a,r=Object(V.a)(e,["className","animate"]),c=A()(t,q.a.resetButton,Object(M.a)({},q.a.animate,n));return i.a.createElement("button",Object.assign({title:"Recommencer"},r,{className:c,type:"button"}),i.a.createElement("img",{src:z.a,alt:"Effacer",className:q.a.image}))},Q=a(23),W=a.n(Q);var Y=function(e){var t=e.title,a=e.showResetButton,n=e.onClickResetButton,r=e.animateResetButton;return i.a.createElement("p",{className:W.a.mapTitle},t,i.a.createElement(U,{className:A()(Object(M.a)({},W.a.hidden,!a)),animate:r,onClick:n}))},Z=a(10),K=a(40);var X=["setItem","getItem","removeItem"].reduce(function(e,t){return e[t]=function(e){return function(){try{for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return window.localStorage[e].apply(window.localStorage,a)}catch(r){}}}(t),e},{}),$=a(3),ee=a.n($),te=1500,ae=1500;function ne(e,t,a){Object(r.useEffect)(function(){t(""),a(""),function(){var e=document.querySelector("input:not([disabled])[type='radio']");e&&(e.focus(),e.blur())}(),Array.isArray(e)&&e.length?e.forEach(function(e){return document.querySelector('[data-id="'.concat(e,'"]')).classList.add(ee.a.disabled)}):Array.from(document.querySelectorAll("[data-id]")).forEach(function(e){return e.classList.remove(ee.a.disabled)})},[e,t,a])}function re(e){var t=Object(r.useState)(""),a=Object(Z.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(""),o=Object(Z.a)(c,2),s=o[0],l=o[1],u=Object(r.useState)(""),m=Object(Z.a)(u,2),d=m[0],f=m[1],p=Object(r.useState)(function(){return function(e){try{var t=X.getItem(e),a=t&&JSON.parse(t);if(Array.isArray(a))return a}catch(n){}return[]}(e)}),h=Object(Z.a)(p,2),_=h[0],g=h[1],b=Object(r.useState)(!1),v=Object(Z.a)(b,2),E=v[0],k=v[1];return function(e,t){Object(r.useEffect)(function(){var e=document.querySelectorAll("[data-id]");Array.from(e).forEach(function(e){var a=e.dataset.id;e.addEventListener("click",function(){e.classList.contains(ee.a.disabled)?t(a):document.querySelector("label#item-".concat(a)).click()})})},[e,t])}(e,f),function(e){Object(r.useEffect)(function(){if(e){var t=document.querySelector('[data-id="'.concat(e,'"'));return t.classList.add(ee.a.selected),function(){return t&&t.classList.remove(ee.a.selected)}}},[e])}(s),function(e,t){Object(r.useEffect)(function(){if(e){var a=document.querySelector("[data-id='".concat(e,"'"));a.classList.add(ee.a.highlight);var n=setTimeout(function(){return t("")},te);return function(){clearTimeout(n),a.classList.remove(ee.a.highlight)}}},[e,t])}(d,f),ne(_,i,l),{choiceIdSelected:n,mapIdSelected:s,idHighlighted:d,idsValidated:_,hasError:E,setMapIdSelected:l,setChoiceIdSelected:i,handleValidateClick:function(e,t,a,n,i,c){var o=Object(r.useRef)(null);return Object(r.useCallback)(function(r){r.preventDefault();var s=t&&t===a;if(clearTimeout(o.current),c(!s),s){var l=[].concat(Object(K.a)(n),[a]);i(l),X.setItem(e,JSON.stringify(l))}else o.current=setTimeout(function(){return c(!1)},ae)},[e,t,a,n,i,c])}(e,s,n,_,g,k),handleResetClick:function(e,t){return Object(r.useCallback)(function(){window.confirm("Souhaitez-vous vraiment recommencer cette carte ?")&&(t([]),X.removeItem(e))},[e,t])}(e,g)}}var ie=function(){return i.a.createElement("div",{className:"container-full-center text-large"},"Loading...")};var ce=function(){return i.a.createElement("div",{className:"container-full-center text-large"},"Une erreur est survenue")};function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var se=function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e)},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return function(t){return function(a){var n=a.lazyDataModule,c=Object(V.a)(a,["lazyDataModule"]),o=Object(r.useState)(void 0),s=Object(Z.a)(o,2),l=s[0],u=s[1];return Object(r.useEffect)(function(){u(void 0),n().then(function(e){return u(e)}).catch(function(e){return u(!1)})},[n]),void 0===l?i.a.createElement(ie,null):!1===l?i.a.createElement(ce,null):i.a.createElement(t,Object.assign({},e(l),c))}}},ue=a(24),me=a.n(ue);var de=function(e){var t=e.data,a=e.onChange,n=e.mapIdSelected,r=e.idsValidated;function c(e){a(e.target.value)}return t.map(function(e){var t="item-".concat(e.id);return i.a.createElement("label",{id:t,key:e.id,className:me.a.label},i.a.createElement("input",{htmlFor:t,className:me.a.input,type:"radio",name:"mapChoice",value:e.id,onChange:c,checked:e.id===n,disabled:-1!==r.indexOf(e.id)}))})},fe=a(15),pe=a.n(fe);var he=i.a.memo(function(e){var t=e.className,a=e.type,n=void 0===a?"button":a,r=Object(V.a)(e,["className","type"]),c=A()(t,pe.a.button);return i.a.createElement("button",Object.assign({},r,{className:c,type:n}))}),_e=a(38),ge=a.n(_e);var be=function(){return i.a.createElement("span",{className:ge.a.successMessage},"Bravo !")},ve=a(39),Ee=a.n(ve);var ke=function(e){var t=e.success,a=e.error,n=e.btnDisabled;return i.a.createElement("footer",{className:Ee.a.mapFooter},t&&i.a.createElement(be,null),!t&&i.a.createElement(he,{type:"submit",disabled:n,className:A()(Object(M.a)({},pe.a.error,a)),children:"Valider"}))},Oe=a(25),je=a.n(Oe);var ye=function(e){var t=e.url,a=A()(je.a.link,je.a.external);return i.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:a},"source")},Ce={getChoiceLabel:function(e){return"".concat(e.id," - ").concat(e.label)}};var we=le(function(e){return{data:e.data,MapComponent:e.MapComponent,options:e.options}})(function(e){var t=e.id,a=e.title,n=e.source,r=e.data,c=e.MapComponent,o=e.options,s=Object.assign({},Ce,o).getChoiceLabel,l=re(t),u=l.choiceIdSelected,m=l.mapIdSelected,d=l.idsValidated,f=l.idHighlighted,p=l.hasError,h=l.setMapIdSelected,_=l.setChoiceIdSelected,g=l.handleValidateClick,b=l.handleResetClick,v=d.length===r.length,E=m&&u;return i.a.createElement("form",{className:ee.a.container,onSubmit:g},i.a.createElement("main",{className:ee.a.main},i.a.createElement("section",{className:ee.a.section},i.a.createElement(Y,{title:a,showResetButton:d.length>0,animateResetButton:v,onClickResetButton:b}),n&&i.a.createElement(ye,{url:n}),i.a.createElement(de,{data:r,onChange:h,mapIdSelected:m,idsValidated:d}),i.a.createElement(c,null)),i.a.createElement("aside",{className:ee.a.aside},i.a.createElement(H,{data:r,onChange:_,choiceIdSelected:u,idHighlighted:f,idsValidated:d,getChoiceLabel:s}))),i.a.createElement(ke,{success:v,error:p,btnDisabled:!E}))}),Se="/la-carte-sans-territoire";var Ne=function(){return i.a.createElement(o.a,{basename:Se},i.a.createElement(m,null),i.a.createElement(s.c,null,i.a.createElement(s.a,{path:"/",exact:!0,component:I}),y.map(function(e){var t=e.id,a=e.routePath,n=e.type,r=e.title,c=e.source,o=e.lazyDataModule,l=function(e){switch(e){case d:default:return we}}(n);return i.a.createElement(s.a,{key:t,path:a,render:function(e){return i.a.createElement(l,Object.assign({},e,{id:t,title:r,source:c,lazyDataModule:o}))}})}),i.a.createElement(s.a,{component:L})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));(new Map).forEach(function(e,t){var a=X.getItem(t);a&&X.setItem(e,a)}),Object(c.render)(i.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[41,1,2]]]);
//# sourceMappingURL=main.6dbfdf65.chunk.js.map