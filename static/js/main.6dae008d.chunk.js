(window["webpackJsonpcarte-sans-territoire"]=window["webpackJsonpcarte-sans-territoire"]||[]).push([[0],{20:function(e,t,n){e.exports=n(32)},25:function(e,t,n){},31:function(e,t,n){var a={"./frDpt.js":[34,3],"./usState.js":[33,4]};function r(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],r=t[0];return n.e(t[1]).then(function(){return n(r)})}r.keys=function(){return Object.keys(a)},r.id=31,e.exports=r},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=(n(25),n(7)),i=n(6);var u=function(){return r.a.createElement("header",null,r.a.createElement(o.b,{to:"/"},"La carte sans le territoire"))};function l(e,t,a){return{id:e,routePath:t,description:a,lazyDataModule:function(){return n(31)("./".concat(e,".js"))}}}var s=[l("frDpt","/french-district","Carte des d\xe9partements fran\xe7ais"),l("usState","/us-state","Carte des \xe9tats des \xc9tats-Unis")];var d=function(){return r.a.createElement("ul",{className:"home-container"},s.map(function(e){var t=e.id,n=e.routePath,a=e.description;return r.a.createElement("li",{key:t},r.a.createElement(o.b,{to:n},a))}))},f=n(8);var m=r.a.memo(function(e){var t=e.id,n=e.label,a=e.checked,c=e.onChange,o=e.disabled;return r.a.createElement("div",null,r.a.createElement("input",{id:t,type:"radio",name:"choice",value:n,checked:a,onChange:c,disabled:o}),r.a.createElement("label",{htmlFor:t},n))});var v=r.a.memo(function(e){var t=e.data,n=e.onChange,a=e.choiceIdSelected,c=e.idsValidated,o=e.getChoiceLabel;return r.a.createElement("div",{className:"choices-container"},t.map(function(e,t){var i=e.id;return r.a.createElement(m,{key:t,id:"choice".concat(t),label:o(e),checked:a===i,disabled:c.includes(i),onChange:function(){return n(i)}})}))});var b=function(){return r.a.createElement("span",{className:"success"},"Bravo !")};var h=r.a.memo(function(e){return r.a.createElement("button",Object.assign({},e,{type:"button"}))}),E=n(19);var p=["setItem","getItem"].reduce(function(e,t){return e[t]=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return window.localStorage[e].apply(window.localStorage,n)}catch(r){}}}(t),e},{});var g=n(18);var O=function(){return r.a.createElement("div",{className:"loading-container"},"Loading...")};var j=function(){return r.a.createElement("div",{className:"error-container"},"Une erreur est survenue")},y={getChoiceLabel:function(e){return"".concat(e.id," - ").concat(e.label)}};var w=function(e){return function(t){return function(n){var c=n.lazyDataModule,o=Object(g.a)(n,["lazyDataModule"]),i=Object(a.useState)(void 0),u=Object(f.a)(i,2),l=u[0],s=u[1];return Object(a.useEffect)(function(){s(void 0),c().then(function(e){return s(e)}).catch(function(e){return s(!1)})},[c]),void 0===l?r.a.createElement(O,null):!1===l?r.a.createElement(j,null):r.a.createElement(t,Object.assign({},e(l),o))}}}(function(e){var t=e.data,n=e.MapComponent,a=e.options;return{key:JSON.stringify(t),data:t,MapComponent:n,options:a}})(function(e){var t=e.id,n=e.data,c=e.MapComponent,o=e.options,i=Object.assign({},y,o).getChoiceLabel,u=Object(a.useState)(""),l=Object(f.a)(u,2),s=l[0],d=l[1],m=Object(a.useState)(""),g=Object(f.a)(m,2),O=g[0],j=g[1],w=Object(a.useState)([]),C=Object(f.a)(w,2),k=C[0],S=C[1];!function(e){Object(a.useEffect)(function(){var t=document.querySelectorAll("[data-id]");Array.from(t).forEach(function(t){var n=t.dataset.id;t.addEventListener("click",function(t){t.target.classList.contains("disabled")||e(n)})})},[e])}(j),function(e,t){Object(a.useEffect)(function(){var n=p.getItem(e);try{var a=n&&JSON.parse(n);Array.isArray(a)&&t(a)}catch(r){}},[e,t])}(t,S),function(e){Object(a.useEffect)(function(){if(e){var t=document.querySelector('[data-id="'.concat(e,'"'));return t.classList.add("selected"),function(){return t.classList.remove("selected")}}},[e])}(O);var L=function(e,t,n,r){return Object(a.useCallback)(function(){e&&e===t&&r([].concat(Object(E.a)(n),[t]))},[e,t,n,r])}(O,s,k,S);!function(e,t,n){Object(a.useEffect)(function(){t(""),n(""),e.forEach(function(e){return document.querySelector('[data-id="'.concat(e,'"]')).classList.add("disabled")})},[e,t,n])}(k,d,j),function(e,t){var n=Object(a.useRef)(!0);Object(a.useEffect)(function(){n.current?n.current=!1:p.setItem(e,JSON.stringify(t))},[e,t])}(t,k);var N=k.length===n.length,D=O&&s;return r.a.createElement("div",{className:"map-game-container"},r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement(c,null)),r.a.createElement("aside",null,r.a.createElement(v,{data:n,onChange:d,choiceIdSelected:s,idsValidated:k,getChoiceLabel:i}))),r.a.createElement("footer",null,N?r.a.createElement(b,null):r.a.createElement(h,{onClick:L,disabled:!D,children:"Valider"})))}),C="/la-carte-sans-territoire";var k=function(){return console.log("app"),r.a.createElement(o.a,{basename:C},r.a.createElement(u,null),r.a.createElement(i.a,{path:"/",exact:!0,component:d}),s.map(function(e){var t=e.id,n=e.routePath,a=e.lazyDataModule;return r.a.createElement(i.a,{key:t,path:n,render:function(e){return r.a.createElement(w,Object.assign({},e,{id:t,lazyDataModule:a}))}})}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(c.render)(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.6dae008d.chunk.js.map