(window["webpackJsonpla-carte-sans-territoire"]=window["webpackJsonpla-carte-sans-territoire"]||[]).push([[0],[,,function(e,t,a){e.exports={container:"MapGame_container__1uBE5",main:"MapGame_main__245H2",section:"MapGame_section__2k_Qm",mapTitle:"MapGame_mapTitle__25G14",selected:"MapGame_selected__S1TO3",disabled:"MapGame_disabled__1bGjL",highlight:"MapGame_highlight__yybZ_",aside:"MapGame_aside__1p7Zj",footer:"MapGame_footer__2MlV_"}},,,,,,,,,,function(e,t,a){e.exports={container:"InputChoice_container__158wK",input:"InputChoice_input__2HCd6",label:"InputChoice_label__1XG8a",highlight:"InputChoice_highlight__1N730"}},,,function(e,t,a){e.exports={button:"Button_button__1s0hg",error:"Button_error__3qGxJ"}},,function(e,t,a){e.exports={header:"Header_header__3mObx",link:"Header_link__cU-VI"}},,,function(e,t,a){e.exports={container:"Home_container__3-qjB",item:"Home_item__1tLv4"}},,,,,,function(e,t,a){e.exports={container:"ListChoice_container__pwaWB"}},function(e,t,a){e.exports={successMessage:"SuccessMessage_successMessage__30uVD"}},function(e,t,a){e.exports={resetButton:"ResetButton_resetButton__IvkAJ"}},,function(e,t,a){e.exports=a(42)},,,,,function(e,t,a){},,,,,,function(e,t,a){var n={"./frDpt.js":[45,3],"./parisArr.js":[44,4],"./usState.js":[43,5]};function r(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(function(){return a(r)})}r.keys=function(){return Object.keys(n)},r.id=41,e.exports=r},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=(a(35),a(9)),o=a(7),s=a(17),l=a.n(s);var u=function(){return r.a.createElement("header",{className:l.a.header},r.a.createElement(i.b,{to:"/",className:l.a.link},"La carte sans territoire"))},d="MAP";function m(e,t,n,r){return{id:e,routePath:t,title:n,description:r,type:d,lazyDataModule:function(){return a(41)("./".concat(e,".js"))}}}var f=[m("frDpt","/french-district","D\xe9partements fran\xe7ais","Carte des d\xe9partements fran\xe7ais"),m("usState","/us-state","\xc9tats des \xc9tats-Unis","Carte des \xe9tats des \xc9tats-Unis"),m("parisArr","/paris-district","Arrondissements de Paris","Carte des arrondissements de Paris")],h=a(20),p=a.n(h);var b=function(){return r.a.createElement("ul",{className:p.a.container},f.map(function(e){var t=e.id,a=e.routePath,n=e.description;return r.a.createElement("li",{key:t,className:p.a.item},r.a.createElement(i.b,{to:a},n))}))};var _=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"La page demand\xe9e n'existe pas")},g=a(13),v=a(10),E=a.n(v),j=a(12),O=a.n(j);var y=r.a.memo(function(e){var t=e.inputId,a=e.id,c=e.label,i=e.checked,o=e.highlighted,s=e.disabled,l=e.onChange,u=Object(n.useRef)(null),d=E()(O.a.label,Object(g.a)({},O.a.highlight,o)),m=Object(n.useCallback)(function(){return l(a)},[l,a]);return Object(n.useEffect)(function(){o&&u.current&&u.current.scrollIntoView()},[o]),r.a.createElement("div",{className:O.a.container},r.a.createElement("input",{id:t,type:"radio",name:"choice",className:O.a.input,value:c,checked:i,onChange:m,disabled:s}),r.a.createElement("label",{ref:u,htmlFor:t,className:d},c))}),C=a(26),N=a.n(C);var S=r.a.memo(function(e){var t=e.data,a=e.onChange,n=e.choiceIdSelected,c=e.idHighlighted,i=e.idsValidated,o=e.getChoiceLabel;return r.a.createElement("div",{className:N.a.container},t.map(function(e,t){var s=e.id;return r.a.createElement(y,{key:t,inputId:"choice".concat(t),id:s,label:o(e),checked:n===s,highlighted:c===s,disabled:i.includes(s),onChange:a})}))}),k=a(27),w=a.n(k);var I=function(){return r.a.createElement("span",{className:w.a.successMessage},"Bravo !")},M=a(14),L=a(15),x=a.n(L);var A=r.a.memo(function(e){var t=e.className,a=Object(M.a)(e,["className"]),n=E()(t,x.a.button);return r.a.createElement("button",Object.assign({},a,{className:n,type:"button"}))}),G=a(28),B=a.n(G);var D=function(e){return r.a.createElement("button",Object.assign({},e,{title:"Recommencer",className:B.a.resetButton}),"\u27f3")},V=a(8),H=a(29);var T=["setItem","getItem","removeItem"].reduce(function(e,t){return e[t]=function(e){return function(){try{for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return window.localStorage[e].apply(window.localStorage,a)}catch(r){}}}(t),e},{}),q=a(2),P=a.n(q),z=1500,J=1500;function R(e){try{var t=T.getItem(e),a=t&&JSON.parse(t);if(Array.isArray(a))return a}catch(n){}return[]}function U(e){var t=Object(n.useState)(""),a=Object(V.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),o=Object(V.a)(i,2),s=o[0],l=o[1],u=Object(n.useState)(""),d=Object(V.a)(u,2),m=d[0],f=d[1],h=Object(n.useState)(function(){return R(e)}),p=Object(V.a)(h,2),b=p[0],_=p[1],g=Object(n.useState)(!1),v=Object(V.a)(g,2),E=v[0],j=v[1];return function(e,t,a){Object(n.useEffect)(function(){var e=document.querySelectorAll("[data-id]");Array.from(e).forEach(function(e){var n=e.dataset.id;e.addEventListener("click",function(e){e.target.classList.contains(P.a.disabled)?a(e.target.dataset.id):t(n)})})},[e,t,a])}(e,l,f),function(e,t,a){Object(n.useEffect)(function(){t(""),a("")},[e,t,a])}(e,c,l),function(e,t){Object(n.useEffect)(function(){t(R(e))},[e,t])}(e,_),function(e){Object(n.useEffect)(function(){if(e){var t=document.querySelector('[data-id="'.concat(e,'"'));return t.classList.add(P.a.selected),function(){return t&&t.classList.remove(P.a.selected)}}},[e])}(s),function(e,t){Object(n.useEffect)(function(){if(e){var a=document.querySelector("[data-id='".concat(e,"'"));a.classList.add(P.a.highlight);var n=setTimeout(function(){return t("")},z);return function(){clearTimeout(n),a.classList.remove(P.a.highlight)}}},[e,t])}(m,f),function(e,t,a){Object(n.useEffect)(function(){t(""),a(""),Array.isArray(e)&&e.length?e.forEach(function(e){return document.querySelector('[data-id="'.concat(e,'"]')).classList.add(P.a.disabled)}):Array.from(document.querySelectorAll("[data-id]")).forEach(function(e){return e.classList.remove(P.a.disabled)})},[e,t,a])}(b,c,l),{choiceIdSelected:r,mapIdSelected:s,idHighlighted:m,idsValidated:b,hasError:E,setChoiceIdSelected:c,handleValidateClick:function(e,t,a,r,c,i){var o=Object(n.useRef)(null);return Object(n.useCallback)(function(){var n=t&&t===a;if(clearTimeout(o.current),i(!n),n){var s=[].concat(Object(H.a)(r),[a]);c(s),T.setItem(e,JSON.stringify(s))}else o.current=setTimeout(function(){return i(!1)},J)},[e,t,a,r,c,i])}(e,s,r,b,_,j),handleResetClick:function(e,t){return Object(n.useCallback)(function(){window.confirm("Souhaitez-vous vraiment recommencer cette carte ?")&&(t([]),T.removeItem(e))},[e,t])}(e,_)}}var W=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"Loading...")};var F=function(){return r.a.createElement("div",{className:"container-full-center text-large"},"Une erreur est survenue")},Z={getChoiceLabel:function(e){return"".concat(e.id," - ").concat(e.label)}};var K=function(e){return function(t){return function(a){var c=a.lazyDataModule,i=Object(M.a)(a,["lazyDataModule"]),o=Object(n.useState)(void 0),s=Object(V.a)(o,2),l=s[0],u=s[1];return Object(n.useEffect)(function(){u(void 0),c().then(function(e){return u(e)}).catch(function(e){return u(!1)})},[c]),void 0===l?r.a.createElement(W,null):!1===l?r.a.createElement(F,null):r.a.createElement(t,Object.assign({},e(l),i))}}}(function(e){return{data:e.data,MapComponent:e.MapComponent,options:e.options}})(function(e){var t=e.id,a=e.title,n=e.data,c=e.MapComponent,i=e.options,o=Object.assign({},Z,i).getChoiceLabel,s=U(t),l=s.choiceIdSelected,u=s.mapIdSelected,d=s.idsValidated,m=s.idHighlighted,f=s.hasError,h=s.setChoiceIdSelected,p=s.handleValidateClick,b=s.handleResetClick,_=d.length===n.length,v=u&&l;return r.a.createElement("div",{className:P.a.container},r.a.createElement("main",{className:P.a.main},r.a.createElement("section",{className:P.a.section},r.a.createElement(c,null),r.a.createElement("p",{className:P.a.mapTitle},a,d.length>0&&r.a.createElement(D,{onClick:b}))),r.a.createElement("aside",{className:P.a.aside},r.a.createElement(S,{data:n,onChange:h,choiceIdSelected:l,idHighlighted:m,idsValidated:d,getChoiceLabel:o}))),r.a.createElement("footer",{className:P.a.footer},_?r.a.createElement(I,null):r.a.createElement(A,{onClick:p,disabled:!v,className:E()(Object(g.a)({},x.a.error,f)),children:"Valider"})))}),Q="/la-carte-sans-territoire";var X=function(){return r.a.createElement(i.a,{basename:Q},r.a.createElement(u,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:b}),f.map(function(e){var t=e.id,a=e.routePath,n=e.type,c=e.title,i=e.lazyDataModule,s=function(e){switch(e){case d:default:return K}}(n);return r.a.createElement(o.a,{key:t,path:a,render:function(e){return r.a.createElement(s,Object.assign({},e,{id:t,title:c,lazyDataModule:i}))}})}),r.a.createElement(o.a,{component:_})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));(new Map).forEach(function(e,t){var a=T.getItem(t);a&&T.setItem(e,a)}),Object(c.render)(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[30,1,2]]]);
//# sourceMappingURL=main.754d8afa.chunk.js.map